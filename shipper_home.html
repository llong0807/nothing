<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>货方首页</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Inter 字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9; /* Match parent content background */
            color: #333;
            overflow-y: auto; /* Enable scrolling for this iframe content */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            height: 100vh; /* Ensure it takes full height of its container */
            box-sizing: border-box; /* Include padding in height calculation */
            padding: 20px; /* Add padding similar to original content area */
        }

        /* Banner styles */
        .banner-container {
            width: 100%;
            height: 140px;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            position: relative;
        }
        .banner-wrapper {
            display: flex;
            width: 300%; /* 3 pages */
            height: 100%;
            transition: transform 1s ease-in-out;
        }
        .banner-page {
            width: 33.33%; /* Each page takes 1/3 of the wrapper width */
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            flex-shrink: 0; /* Prevent shrinking */
            background-size: cover;
            background-position: center;
        }
        .banner-page:nth-child(1) { background: linear-gradient(45deg, #64b5f6, #2196f3); } /* Blue */
        .banner-page:nth-child(2) { background: linear-gradient(45deg, #81c784, #4caf50); } /* Green */
        .banner-page:nth-child(3) { background: linear-gradient(45deg, #ffb74d, #ff9800); } /* Orange */

        /* Radar board styles */
        .radar-board {
            background-color: #e1f5fe; /* Lighter blue */
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 40px;
            border: 1px solid #b3e5fc;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative; /* For animation */
            height: 150px; /* Fixed height for radar board */
            overflow: hidden; /* Hide scrollbar for radar */
        }
        .radar-board h3 {
            margin-top: 0;
            color: #1976d2; /* Darker blue */
            font-size: 17px;
            margin-bottom: 15px;
            text-align: center;
            position: relative;
            z-index: 2; /* Ensure text is above animated elements */
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .radar-board h3 .icon {
            font-size: 20px;
            color: #1976d2;
        }
        .radar-board .radar-items-container {
            position: relative;
            height: calc(100% - 32px); /* Adjust based on h3 height */
            overflow: hidden;
        }
        .radar-item {
            padding: 8px 0;
            border-bottom: 1px dashed #c1e4ff;
            font-size: 14px;
            color: #424242;
            white-space: nowrap; /* Prevent text wrapping */
            overflow: hidden; /* Hide overflow */
            text-overflow: ellipsis; /* Add ellipsis */
        }
        .radar-item:last-child {
            border-bottom: none;
        }
        .radar-item.highlight {
            font-size: 16px; /* Larger font for highlight */
            font-weight: bold;
            color: #e63946; /* Highlight color */
            animation: pulseHighlight 1s infinite alternate; /* Pulsing effect */
        }

        /* Free Shipping Button styles */
        .free-shipping-button {
            width: 90%;
            padding: 25px 20px; /* Increased padding */
            background: linear-gradient(45deg, #ff7e5f, #feb47b); /* Warm orange gradient */
            color: #fff;
            border: none;
            border-radius: 20px; /* More rounded */
            text-align: center;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(255, 126, 95, 0.4); /* Stronger, warmer shadow */
            margin: 0 auto;
            display: flex; /* Use flexbox for internal layout */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px; /* Space between title and slogan */
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .free-shipping-button:hover {
            transform: translateY(-5px); /* More pronounced lift */
            box-shadow: 0 12px 30px rgba(255, 126, 95, 0.6);
        }
        .free-shipping-button .main-text {
            font-size: 28px; /* Even larger font */
            font-weight: bold;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .free-shipping-button .main-text .icon {
            font-size: 30px;
        }
        .free-shipping-button .slogan {
            font-size: 16px; /* Slogan font size */
            opacity: 0.9;
            line-height: 1.3;
        }
        .free-shipping-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transform: skewX(-30deg);
            transition: all 0.5s ease;
        }
        .free-shipping-button:hover::before {
            left: 100%;
        }

        /* Radar board animation keyframes */
        @keyframes radarScan {
            0% { transform: rotate(0deg); opacity: 0.5; }
            50% { opacity: 0.8; }
            100% { transform: rotate(360deg); opacity: 0.5; }
        }

        .radar-board::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 80%;
            border: 2px dashed #b3e5fc;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.3;
            animation: pulse 2s infinite ease-in-out;
            z-index: 1;
        }

        .radar-board::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, transparent 20%, #e1f5fe 80%);
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
            100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; }
        }

        .radar-items-container {
            position: relative;
            height: calc(100% - 32px); /* Adjust based on h3 height */
            overflow: hidden;
        }

        @keyframes pulseHighlight {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.02); opacity: 0.9; }
        }

        /* Pause animation on hover */
        .radar-board:hover .radar-items-inner {
            animation-play-state: paused;
        }

        /* Define scrollRadar keyframes directly in the style block */
        @keyframes scrollRadar {
            0% { transform: translateY(0); }
            /* The 100% transform will be set dynamically by JS */
        }
    </style>
</head>
<body>
<div class="banner-container">
    <div class="banner-wrapper" id="bannerWrapper">
        <div class="banner-page"><span>大运到家，省心省力！</span></div>
        <div class="banner-page"><span>新用户首单立减，优惠享不停！</span></div>
        <div class="banner-page"><span>智能匹配，极速发货，告别等待！</span></div>
    </div>
</div>
<div class="radar-board">
    <h3><span class="icon">📡</span> 雷达功能看板</h3>
    <div class="radar-items-container">
        <div class="radar-items-inner" id="radarItemsInner"></div>
    </div>
</div>
<button class="free-shipping-button" onclick="navigateToPublishPage()">
    <span class="main-text"><span class="icon">✨</span> 免费发货</span>
    <span class="slogan">多快好省，如此简单！</span>
</button>

<script src="https://cdn.jsdelivr.net/npm/lucide-icons@latest/dist/lucide.min.js"></script>
<script>
    // Shipper Home Page Banner Auto-Slide
    let currentBannerIndex = 0;
    const bannerWrapper = document.getElementById('bannerWrapper');
    const totalBanners = 3;
    function autoSlideBanner() {
        currentBannerIndex = (currentBannerIndex + 1) % totalBanners;
        bannerWrapper.style.transform = `translateX(-${currentBannerIndex * 100 / totalBanners}%)`;
    }
    setInterval(autoSlideBanner, 5000);

    // Radar Board dynamic content and animation
    const radarItemsData = [
        { text: "云雷大仙发布一条上海到深圳的货源：电子产品，8吨", highlight: false },
        { text: "王师傅接单了从北京到天津的货源：建材，10方", highlight: false },
        { text: "您的货源有新的情况，请点击查看>", highlight: true },
        { text: "李老板发布一条成都到重庆的货源：家具，5方", highlight: false },
        { text: "刘女士发布一条广州到北京的货源：服装，2吨", highlight: false },
        { text: "张司机完成了从上海到杭州的运输：食品，5吨", highlight: false },
        { text: "有新的高价值货源，请立即查看！", highlight: true },
        { text: "赵先生发布一条武汉到长沙的货源：电器，3方", highlight: false },
        { text: "您的订单已成功匹配，即将发车！", highlight: true }
    ];

    let currentRadarItemIndex = 0;
    const radarItemsInner = document.getElementById('radarItemsInner');

    function initializeRadarDisplay() {
        // Clear existing content
        radarItemsInner.innerHTML = '';

        // Duplicate content to create a seamless loop effect
        const fullData = [...radarItemsData, ...radarItemsData];

        fullData.forEach(item => {
            const div = document.createElement('div');
            div.classList.add('radar-item');
            if (item.highlight) {
                div.classList.add('highlight');
            }
            div.textContent = item.text;
            radarItemsInner.appendChild(div);
        });

        // Calculate total height for animation
        // Ensure elements are rendered to get offsetHeight correctly
        requestAnimationFrame(() => {
            if (radarItemsInner.children.length > 0) {
                const itemHeight = radarItemsInner.children[0].offsetHeight; // Assuming all items have same height
                const totalHeight = radarItemsData.length * itemHeight;

                // Update the 100% keyframe dynamically
                const styleElement = document.createElement('style');
                styleElement.textContent = `
                    @keyframes scrollRadar {
                        0% { transform: translateY(0); }
                        100% { transform: translateY(-${totalHeight}px); }
                    }
                `;
                document.head.appendChild(styleElement);

                // Apply animation
                radarItemsInner.style.animation = `scrollRadar ${radarItemsData.length * 2}s linear infinite`;
            }
        });
    }

    // Function to handle navigation to publish_1.html
    function navigateToPublishPage() {
        // Send a message to the parent window to load publish_1.html into the publish iframe
        window.parent.postMessage({ action: 'loadPublishPage', url: 'publish_1.html' }, '*');
    }

    // Initialize the app on window load
    window.onload = function() {
        initializeRadarDisplay(); // Call directly
        if (typeof lucide !== 'undefined' && lucide.createIcons) {
            lucide.createIcons();
        }
    };
</script>
</body>
</html>
